"use strict";(self.webpackChunkvue_test=self.webpackChunkvue_test||[]).push([[513],{42513:function(t,e,n){n.r(e),n.d(e,{default:function(){return s}});var i=n(42325),a={data(){return{xieState:!1,canvas:null,context:null,xieX:0,xieY:0,open:!1,imgURLs:""}},methods:{startXie(t){this.xieState=!0,this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.xieX=t.pageX-260,this.xieY=t.pageY-222},xie(t){if(this.xieState&&null!=this.context){let e=t.pageX-260,n=t.pageY-222;this.context.beginPath(),this.context.moveTo(this.xieX,this.xieY),this.context.lineTo(e,n),this.context.stroke(),this.xieX=e,this.xieY=n}},endXie(){this.xieState=!1},clearContext(){this.context.clearRect(0,0,600,400)},preview(){this.open=!0,null==this.canvas&&(this.canvas=document.getElementById("canvas")),this.imgURLs=this.canvas.toDataURL("image/png")},downloadIamge(){this.canvas=document.getElementById("canvas"),this.imgURLs=this.canvas.toDataURL("image/png");var t=(new Date).getTime()+".png";(0,i.iw)(this.imgURLs,t)}}},s=(0,n(43736).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slider_verification"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v(t._s(t.$t("headerList.Signature")))])]),n("canvas",{staticStyle:{margin:"20px",display:"block",border:"1px solid #ccc"},attrs:{width:"600",height:"400",id:"canvas"},on:{mousemove:t.xie,mousedown:t.startXie,mouseup:t.endXie}}),n("el-dialog",{attrs:{visible:t.open,width:"600px","show-close":!1},on:{"update:visible":function(e){t.open=e}}},[n("img",{attrs:{src:t.imgURLs,id:"ylimg",width:"400",height:"400"}})]),n("div",{staticClass:"btn"},[n("el-button",{on:{click:t.clearContext}},[t._v(t._s(t.$t("headerList.Eliminate")))]),n("el-button",{on:{click:t.downloadIamge}},[t._v(t._s(t.$t("headerList.Download")))])],1)],1)],1)}),[],!1,null,"6cf5569d",null).exports},42325:function(t,e,n){n.d(e,{AM:function(){return u},FR:function(){return o},H7:function(){return h},JM:function(){return a},iw:function(){return i},jE:function(){return c},oW:function(){return s},tK:function(){return l},zi:function(){return r}});n(57658);const i=(t,e)=>{var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){var t=document.createElement("canvas");t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(n,0,0,n.width,n.height);var i=t.toDataURL("image/png"),a=document.createElement("a"),s=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});a.download=e||"photo",a.href=i,a.dispatchEvent(s)},n.src=t},a=(t,e)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(4===n.readyState&&200===n.status){const t=this.response,n=window.URL.createObjectURL(new Blob([t],{type:"video/mp4"})),i=document.createElement("a");i.download=e,i.href=n,i.style.display="none",document.body.appendChild(i),i.click(),i.remove()}},n.send()},s=(t,e,n,i)=>{function a(t){return t*Math.PI/180}var s=a(t),r=a(n),o=s-r,c=a(e)-a(i),l=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(s)*Math.cos(r)*Math.pow(Math.sin(c/2),2)));l*=6378.137;var u=l=Math.round(1e4*l)/1e4,h="";return h=parseInt(u)>=1?u.toFixed(2)+"km":(1e3*u).toFixed(2)+"m",{distance:u,distance_str:h}},r=(t,e)=>{if(null==t||""==t)return;var n=new Date(Number(t)),i=n.getFullYear(),a=n.getMonth()+1<10?"0"+(n.getMonth()+1):""+(n.getMonth()+1),s=n.getDate()<10?"0"+n.getDate():""+n.getDate(),r=n.getHours(),o=n.getMinutes()<10?"0"+n.getMinutes():""+n.getMinutes(),c=n.getSeconds();return(t=>{let e=new Map([[1,i+"-"+a+"-"+s],[2,i+"-"+a+"-"+s+" "+r+":"+o+":"+c],["default",i+"-"+a+"-"+s+" "+r+":"+o+":"+c]]);return e.get(t)||e.get("default")})(e)},o=t=>{let e=!0;return Object.keys(t).forEach((function(n){null!==t[n]&&void 0!==t[n]||(e=!1)})),e},c=(t,e)=>{for(let n=0;n<t.length;n++){if(t[n].router===e)return t[n].name;if(t[n].children&&t[n].children.length>0){let i=c(t[n].children,e);if(i)return t[n].name+" / "+i}}return null},l=(t,e)=>{var n=!1,i=null;return function t(e,a){for(var s=0;s<e.length;s++)if(e[s].children&&e[s].children.length>0&&t(e[s].children,a),a===e[s].router||n){n||(i=e[s]),n=!0;break}}(t,e),i},u=t=>{let e=[];return t.forEach((t=>{t.children?(e.push(t,...u(t.children)),delete t.children):e.push(t)})),e},h=t=>{const e=t.split("&");let n=new Object;for(var i=0;i<e.length;i++)n[e[i].split("=")[0]]=unescape(e[i].split("=")[1]);return n}}}]);