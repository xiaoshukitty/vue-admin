"use strict";(self.webpackChunkvue_test=self.webpackChunkvue_test||[]).push([[5579],{35579:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});a(57658);var s={props:["datas","defaultProps"],data(){return{yuansiData:[],dataLeft:[],dataRight:[]}},mounted(){this.dataLeft=this.datas,this.yuansiData=JSON.parse(JSON.stringify(this.datas))},methods:{add(){let t=this.$refs.treeLeft.getCheckedNodes();const e=t.filter((t=>t.parameterInfoList));for(let a of e){let t=this.dataLeft.findIndex((t=>t.id==a.id));t>=0&&this.dataLeft.splice(t,1)}t=t.filter((t=>!t.parameterInfoList));for(let a of t)for(let t in this.dataLeft)if(this.dataLeft[t].parameterInfoList.length){let e=this.dataLeft[t].parameterInfoList.findIndex((t=>t.id==a.id));e>=0&&this.dataLeft[t].parameterInfoList.splice(e,1)}this.$refs.treeLeft.setCheckedNodes([]),this.dataRight.push(...t)},remove(){let t=this.$refs.treeRight.getCheckedNodes();for(let e of t){let t=this.dataRight.findIndex((t=>e.id==t.id));t>=0&&this.dataRight.splice(t,1)}this.dataLeft=JSON.parse(JSON.stringify(this.yuansiData));for(let e in this.dataLeft){for(let t of this.dataRight){let a=this.dataLeft[e].parameterInfoList.findIndex((e=>e.id==t.id));a>=0&&this.dataLeft[e].parameterInfoList.splice(a,1)}this.dataLeft=this.dataLeft.filter((t=>0!=t.parameterInfoList.length))}},getResult(){return this.dataRight}}},r=a(43736),i={data(){return{data:[{id:1,name:"一级 1",parameterInfoList:[{id:4,name:"二级 1-1"}]},{id:2,name:"一级 2",parameterInfoList:[{id:5,name:"二级 2-1"},{id:6,name:"二级 2-2"}]},{id:3,name:"一级 3",parameterInfoList:[{id:7,name:"二级 3-1"},{id:8,name:"二级 3-2"}]}],defaultProps:{children:"parameterInfoList",label:"name"}}},components:{TreeTransfer:(0,r.Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tree-transfer"},[a("div",{staticClass:"tree-transfer-left"},[a("el-tree",{ref:"treeLeft",attrs:{data:t.dataLeft,"show-checkbox":"","node-key":"id",props:t.defaultProps}})],1),a("div",{staticClass:"tree-transfer-middle"},[a("el-button",{attrs:{circle:"",type:"info",icon:"el-icon-arrow-left"},on:{click:t.remove}}),a("el-button",{attrs:{circle:"",type:"info",icon:"el-icon-arrow-right"},on:{click:t.add}})],1),a("div",{staticClass:"tree-transfer-right"},[a("el-tree",{ref:"treeRight",attrs:{data:t.dataRight,"show-checkbox":"","node-key":"id",props:t.defaultProps}})],1)])}),[],!1,null,"88c9d7c2",null).exports}},d=(0,r.Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tree"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("headerList.Tree")))])]),a("TreeTransfer",{ref:"treeTransfer",attrs:{datas:t.data,defaultProps:t.defaultProps}})],1)],1)}),[],!1,null,"57b3d575",null).exports}}]);