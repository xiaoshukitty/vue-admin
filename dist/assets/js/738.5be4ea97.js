"use strict";(self.webpackChunkvue_test=self.webpackChunkvue_test||[]).push([[738],{61738:function(e,t,v){v.r(t),v.d(t,{default:function(){return m}});var a={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]};function w(o,e){e=e||a[this.$options.name];e&&e.forEach(e=>{var t="on"===e.slice(0,2)?e.slice(2):e,t=this.$listeners[t];t&&o.addEventListener(e,t.fns)})}const i=e=>Object.prototype.toString.call(e).slice(8,-1);var t={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center(e,t){var{map:o,zoom:a}=this;"String"===i(e)&&e!==t&&o.centerAndZoom(e,a)},"center.lng"(e,t){var{BMap:o,map:a,zoom:i,center:n}=this;e!==t&&-180<=e&&e<=180&&a.centerAndZoom(new o.Point(e,n.lat),i)},"center.lat"(e,t){var{BMap:o,map:a,zoom:i,center:n}=this;e!==t&&-74<=e&&e<=74&&a.centerAndZoom(new o.Point(n.lng,e),i)},zoom(e,t){var o=this["map"];e!==t&&3<=e&&e<=19&&o.setZoom(e)},minZoom(e){var t=this["map"];t.setMinZoom(e)},maxZoom(e){var t=this["map"];t.setMaxZoom(e)},highResolution(){this.reset()},mapClick(){this.reset()},mapType(e){var t=this["map"];t.setMapType(v.g[e])},dragging(e){var t=this["map"];e?t.enableDragging():t.disableDragging()},scrollWheelZoom(e){var t=this["map"];e?t.enableScrollWheelZoom():t.disableScrollWheelZoom()},doubleClickZoom(e){var t=this["map"];e?t.enableDoubleClickZoom():t.disableDoubleClickZoom()},keyboard(e){var t=this["map"];e?t.enableKeyboard():t.disableKeyboard()},inertialDragging(e){var t=this["map"];e?t.enableInertialDragging():t.disableInertialDragging()},continuousZoom(e){var t=this["map"];e?t.enableContinuousZoom():t.disableContinuousZoom()},pinchToZoom(e){var t=this["map"];e?t.enablePinchToZoom():t.disablePinchToZoom()},autoResize(e){var t=this["map"];e?t.enableAutoResize():t.disableAutoResize()},theme(e){var t=this["map"];t.setMapStyle({styleJson:e})},"mapStyle.features":{handler(e,t){var{map:o,mapStyle:a}=this,{style:a,styleJson:i}=a;o.setMapStyle({styleJson:i,features:e,style:a})},deep:!0},"mapStyle.style"(e,t){var{map:o,mapStyle:a}=this,{features:a,styleJson:i}=a;o.setMapStyle({styleJson:i,features:a,style:e})},"mapStyle.styleJson":{handler(e,t){var{map:o,mapStyle:a}=this,{features:a,style:i}=a;o.setMapStyle({styleJson:e,features:a,style:i})},deep:!0},mapStyle(e){var{map:t,theme:o}=this;o||t.setMapStyle(e)}},methods:{setMapOptions(){var{map:e,minZoom:t,maxZoom:o,mapType:a,dragging:i,scrollWheelZoom:n,doubleClickZoom:s,keyboard:r,inertialDragging:l,continuousZoom:c,pinchToZoom:h,autoResize:p}=this;t&&e.setMinZoom(t),o&&e.setMaxZoom(o),a&&e.setMapType(v.g[a]),i?e.enableDragging():e.disableDragging(),n?e.enableScrollWheelZoom():e.disableScrollWheelZoom(),s?e.enableDoubleClickZoom():e.disableDoubleClickZoom(),r?e.enableKeyboard():e.disableKeyboard(),l?e.enableInertialDragging():e.disableInertialDragging(),c?e.enableContinuousZoom():e.disableContinuousZoom(),h?e.enablePinchToZoom():e.disablePinchToZoom(),p?e.enableAutoResize():e.disableAutoResize()},init(t){if(!this.map){let e=this.$refs.view;for(var o of this.$slots.default||[])o.componentOptions&&"bm-view"===o.componentOptions.tag&&(this.hasBmView=!0,e=o.elm);var a=new t.Map(e,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick}),{setMapOptions:i,zoom:n,getCenterPoint:s,theme:r,mapStyle:l}=(this.map=a,this);r?a.setMapStyle({styleJson:r}):a.setMapStyle(l),i(),w.call(this,a),a.reset(),a.centerAndZoom(s(),n),this.$emit("ready",{BMap:t,map:a})}},getCenterPoint(){var{center:e,BMap:t}=this;switch(i(e)){case"String":return e;case"Object":return new t.Point(e.lng,e.lat);default:return new t.Point}},initMap(e){this.BMap=e,this.init(e)},getMapScript(){if(v.g.BMap)return v.g.BMap._preloader||Promise.resolve(v.g.BMap);{const a=this.ak||this._BMap().ak;return v.g.BMap={},v.g.BMap._preloader=new Promise((e,t)=>{v.g._initBaiduMap=function(){e(v.g.BMap),v.g.document.body.removeChild(o),v.g.BMap._preloader=null,v.g._initBaiduMap=null};const o=document.createElement("script");v.g.document.body.appendChild(o),o.src=`https://api.map.baidu.com/api?v=2.0&ak=${a}&callback=_initBaiduMap`}),v.g.BMap._preloader}},reset(){var{getMapScript:e,initMap:t}=this;e().then(t)}},mounted(){this.reset()},data(){return{hasBmView:!1}}},o=v(1001),t=(0,o.Z)(t,function(){var e=this._self._c;return e("div",[this.hasBmView?this._e():e("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),this._t("default")],2)},[],!1,null,null,null).exports;const n={control:{unload:"removeControl"},layer:{unload:"removeTileLayer"},overlay:{unload:"removeOverlay"},contextMenu:{unload:"removeContextMenu"}},s=e=>e.abstract||e.$el===e.$children[0].$el?s(e.$parent):e;function r(){var{unload:e,renderByParent:t,$parent:o}=this;t&&o.reload(),e()}class l{constructor(o){this.methods={ready(){var e=s(this.$parent),t=this.BMap=e.BMap,e=this.map=e.map;this.load(),this.$emit("ready",{BMap:t,map:e})},transmitEvent(e){this.$emit(e.type.replace(/^on/,""),e)},reload(){this&&this.BMap&&this.$nextTick(()=>{this.unload(),this.$nextTick(this.load)})},unload(){var{map:e,originInstance:t}=this;try{switch(o.type){case"search":return t.clearResults();case"autoComplete":case"lushu":return t.dispose();case"markerClusterer":return t.clearMarkers();default:e[n[o.type].unload](t)}}catch(e){}}},this.computed={renderByParent(){return this.$parent.preventChildrenRender}},this.mounted=function(){var e=s(this.$parent),t=this["ready"];e.map?t():e.$on("ready",t)},this.destroyed=r,this.beforeDestroy=r}}var c=e=>new l({type:e});function B(e,t={}){var{lng:t,lat:o}=t;return new e.Point(t,o)}function M(e,t={}){var{width:t,height:o}=t;return new e.Size(t,o)}function k(e,t={}){var{url:t,size:o,opts:a={}}=t;return new e.Icon(t,M(e,o),{anchor:a.anchor&&M(e,a.anchor),imageSize:a.imageSize&&M(e,a.imageSize),imageOffset:a.imageOffset&&M(e,a.imageOffset),infoWindowAnchor:a.infoWindowAnchor&&M(e,a.infoWindowAnchor),printImageUrl:a.printImageUrl})}var h={name:"bm-marker",mixins:[c("overlay")],props:{position:{},offset:{},icon:{},massClear:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1},clicking:{type:Boolean,default:!0},raiseOnDrag:{type:Boolean,default:!1},draggingCursor:{type:String},rotation:{type:Number},shadow:{type:Object},title:{type:String},label:{type:Object},animation:{type:String},top:{type:Boolean,default:!1},zIndex:{type:Number,default:0}},watch:{"position.lng"(e,t){var{BMap:o,originInstance:a,position:i,renderByParent:n,$parent:s}=this;e!==t&&-180<=e&&e<=180&&a.setPosition(B(o,{lng:e,lat:i.lat})),n&&s.reload()},"position.lat"(e,t){var{BMap:o,originInstance:a,position:i,renderByParent:n,$parent:s}=this;e!==t&&-74<=e&&e<=74&&a.setPosition(B(o,{lng:i.lng,lat:e})),n&&s.reload()},"offset.width"(e,t){var{BMap:o,originInstance:a}=this;e!==t&&a.setOffset(new o.Size(e,this.offset.height))},"offset.height"(e,t){var{BMap:o,originInstance:a}=this;e!==t&&a.setOffset(new o.Size(this.offset.width,e))},icon:{deep:!0,handler(e){var{BMap:t,originInstance:o,rotation:a}=this;o&&o.setIcon(k(t,e)),a&&o&&o.setRotation(a)}},massClear(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},dragging(e){e?this.originInstance.enableDragging():this.originInstance.disableDragging()},clicking(){this.reload()},raiseOnDrag(){this.reload()},draggingCursor(e){this.originInstance.setDraggingCursor(e)},rotation(e){this.originInstance.setRotation(e)},shadow(e){this.originInstance.setShadow(e)},title(e){this.originInstance.setTitle(e)},label(e){this.reload()},animation(e){this.originInstance.setAnimation(v.g[e])},top(e){this.originInstance.setTop(e)},zIndex(e){this.originInstance.setZIndex(e)}},methods:{load(){var{BMap:e,map:t,position:o,offset:a,icon:i,massClear:n,dragging:s,clicking:r,raiseOnDrag:l,draggingCursor:c,rotation:h,shadow:p,title:m,label:d,animation:g,top:u,renderByParent:b,$parent:y,zIndex:f}=this,o=new e.Marker(new e.Point(o.lng,o.lat),{offset:a,icon:i&&k(e,i),enableMassClear:n,enableDragging:s,enableClicking:r,raiseOnDrag:l,draggingCursor:c,rotation:h,shadow:p,title:m});this.originInstance=o,d&&o&&o.setLabel(function(e,t={}){var{content:t,opts:o}=t;return new e.Label(t,{offset:o.offset&&M(e,o.offset),position:o.position&&B(e,o.position),enableMassClear:o.enableMassClear})}(e,d)),o.setTop(u),o.setZIndex(f),w.call(this,o),b?y.reload():t.addOverlay(o),o.setAnimation(v.g[g])}}},h=(0,o.Z)(h,function(){return(0,this._self._c)("div",[this._t("default")],2)},[],!1,null,null,null).exports,p={name:"bm-label",render(){},mixins:[c("overlay")],props:{content:{type:String},title:{type:String},offset:{},position:{},labelStyle:{},zIndex:{type:Number,default:0},massClear:{type:Boolean,default:!0}},watch:{content(e){this.originInstance.setContent(e)},title(e){this.originInstance.setTitle(e)},"offset.width"(e,t){var o=this["BMap"];e.toString()!==t.toString()&&this.originInstance.setOffset(M(o,{width:e,height:this.offset.height}))},"offset.height"(e,t){var o=this["BMap"];e.toString()!==t.toString()&&this.originInstance.setOffset(M(o,{width:this.offset.width,height:e}))},"position.lng"(e,t){var o=this["BMap"],a=e;e.toString()!==t.toString()&&-180<=a&&a<=180&&this.originInstance.setCenter(B(o,{lng:a,lat:this.center.lat}))},"position.lat"(e,t){var o=this["BMap"],a=e;e.toString()!==t.toString()&&-74<=a&&a<=74&&this.originInstance.setCenter(B(o,{lng:this.center.lng,lat:a}))},labelStyle:{handler(e){this.originInstance.setStyle(e)},deep:!0},zIndex(e){this.originInstance.setZIndex(e)},massClear(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()}},methods:{load(){var{BMap:e,map:t,content:o,title:a,offset:i,position:n,labelStyle:s,zIndex:r,massClear:l,$parent:c}=this,o=new e.Label(o,{offset:M(e,i),position:B(e,n),enableMassClear:l});this.originInstance=o;try{c.originInstance.setLabel(o)}catch(e){t.addOverlay(o)}a&&o.setTitle(a),s&&o.setStyle(s),r&&o.setZIndex(r),w.call(this,o)}}},p=(0,o.Z)(p,void 0,void 0,!1,null,null,null).exports,c={name:"bm-geolocation",render(){},mixins:[c("control")],props:{anchor:{type:String},offset:{type:Object},showAddressBar:{type:Boolean},autoLocation:{type:Boolean},locationIcon:{type:Object}},watch:{anchor(){this.reload()},offset(){this.reload()},showAddressBar(){this.reload()},autoLocation(){this.reload()},locationIcon(){this.reload()}},methods:{load(){var{BMap:e,map:t,anchor:o,showAddressBar:a,autoLocation:i,locationIcon:n,offset:s}=this;this.originInstance=new e.GeolocationControl({anchor:v.g[o],showAddressBar:a,enableAutoLocation:i,offset:s&&M(e,s),locationIcon:n&&k(e,n)}),w.call(this,this.originInstance),t.addControl(this.originInstance)}}},c=(0,o.Z)(c,void 0,void 0,!1,null,null,null).exports,m=(0,o.Z)({data(){return{lng:116.404,lat:39.915,baseName:"北京天安门",icon:{size:{width:40,height:40},opts:{anchor:{width:27,height:13}}},show:!1,autoNaviUrl:""}},components:{BaiduMap:t,BmMarker:h,BmGeolocation:c,BmLabel:p},created(){this.autoNaviUrl=`https://uri.amap.com/marker?position=${this.lng},${this.lat}&name=`+this.baseName}},function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v("高德地图")]),e("div",{staticClass:"mapWrap page"},[e("baidu-map",{staticClass:"bm-view",staticStyle:{width:"100%",height:"100%"},attrs:{ak:"YOUR_APP_KEY",center:{lng:t.lng,lat:t.lat},zoom:15,"scroll-wheel-zoom":!0}},[e("bm-marker",{attrs:{position:{lng:t.lng,lat:t.lat},animation:"BMAP_ANIMATION_BOUNCE"},on:{click:function(e){t.show=!0}}},[e("bm-label",{attrs:{content:t.baseName,labelStyle:{color:"red",fontSize:"12px",borderRadius:"4px"},offset:{width:-35,height:30}}})],1),e("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0,locationIcon:t.icon}})],1),e("div",{staticClass:"content"},[e("ul",[e("li",[e("a",{attrs:{href:t.autoNaviUrl}},[t._v("高德地图")])])])])],1)])},[],!1,null,"1c508e9a",null).exports}}]);