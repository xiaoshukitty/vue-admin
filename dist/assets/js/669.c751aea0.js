"use strict";(self.webpackChunkvue_test=self.webpackChunkvue_test||[]).push([[669],{81669:function(t,i,s){s.r(i),s.d(i,{default:function(){return e}});function o(t){if(this.options={id:"",canvasId:"verifyCanvas",width:"80",height:"30",type:"number",code:""},"[object Object]"===Object.prototype.toString.call(t))for(var i in t)this.options[i]=t[i];else this.options.id=t;this.options.numArr="0,1,2,3,4,5,6,7,8,9".split(","),this.options.letterArr="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z".split(","),this.init(),this.refresh()}function a(t,i){return Math.floor(Math.random()*(i-t)+t)}function p(t,i){return"rgb("+a(t,i)+","+a(t,i)+","+a(t,i)+")"}o.prototype={init:function(){var t=document.getElementById(this.options.id),i=document.createElement("canvas"),s=(this.options.width="141",this.options.height="45",i.id=this.options.canvasId,i.width=this.options.width,i.height=this.options.height,i.style.cursor="pointer",i.innerHTML="您的浏览器版本不支持canvas",t.appendChild(i),this);i.onclick=function(){s.refresh()}},refresh:function(){var t,i,s=document.getElementById(this.options.canvasId);(t=s.getContext?s.getContext("2d"):t).textBaseline="middle",t.fillStyle=p(180,240),t.fillRect(0,0,this.options.width,this.options.height),i="blend"===this.options.type?this.options.numArr.concat(this.options.letterArr):"number"===this.options.type?this.options.numArr:this.options.letterArr;for(var o=1;o<=4;o++){var e=i[a(0,i.length)],n=(this.options.code+=e,t.font=a(this.options.height/2,this.options.height)+"px SimHei",t.fillStyle=p(50,160),t.shadowOffsetX=a(-3,3),t.shadowOffsetY=a(-3,3),t.shadowBlur=a(-3,3),t.shadowColor="rgba(0, 0, 0, 0.3)",this.options.width/5*o),h=this.options.height/2,r=a(-30,30);t.translate(n,h),t.rotate(r*Math.PI/180),t.fillText(e,0,0),t.rotate(-r*Math.PI/180),t.translate(-n,-h)}for(o=0;o<4;o++)t.strokeStyle=p(40,180),t.beginPath(),t.moveTo(a(0,this.options.width),a(0,this.options.height)),t.lineTo(a(0,this.options.width),a(0,this.options.height)),t.stroke();for(o=0;o<this.options.width/4;o++)t.fillStyle=p(0,255),t.beginPath(),t.arc(a(0,this.options.width),a(0,this.options.height),1,0,2*Math.PI),t.fill()}};var i={data(){return{yzmCode:"",picture:"",yzmIpt:""}},created(){},mounted(){this.yzmCode=new o("v_yzm"),this.picture=this.yzmCode.options.code},methods:{change(){this.picture=this.yzmCode.options.code.substring(this.yzmCode.options.code.length-4)},changeBlur(){this.yzmCode.options.code!=this.yzmIpt?(this.$message.warning("请输入正确的验证码"),this.yzmIpt=""):this.$message.success("验证码正确")}}},e=(0,s(1001).Z)(i,function(){var i=this,t=i._self._c;return t("div",{staticClass:"container"},[i._v(" 验证码 "),t("div",{staticClass:"container_box"},[t("div",{attrs:{id:"v_yzm"},on:{click:i.change}}),t("el-input",{staticClass:"ipt",attrs:{size:"small"},on:{blur:i.changeBlur},model:{value:i.yzmIpt,callback:function(t){i.yzmIpt=t},expression:"yzmIpt"}})],1)])},[],!1,null,"35804fe4",null).exports}}]);