"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[39],{23039:function(t,e,o){o.r(e),o.d(e,{default:function(){return h}});var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"canvas"},[o("h2",{on:{click:t.qriously}},[t._v(" vue-qriously生成二维码 ")]),o("canvas",{attrs:{id:"myCanvas",width:"500",height:"300"}}),o("div",{staticClass:"poster_box"},[o("div",{staticClass:"poster",attrs:{id:"poster"}},[o("div",{ref:"qrCodeUrl",staticClass:"qrcode",attrs:{id:"qrcode"}})]),o("el-button",{attrs:{type:"primary"},on:{click:t.qrcode}},[t._v("截图")]),o("el-button",{attrs:{type:"primary"},on:{click:t.downloadIamge}},[t._v("下载")])],1),o("div",{staticClass:"look_qrcode"},[o("el-dialog",{attrs:{title:"扫码支付码",visible:t.lookQrcodeDialog,width:"30%","show-close":!1},on:{"update:visible":function(e){t.lookQrcodeDialog=e}}},[o("qriously",{attrs:{value:t.codeUrl,size:240}}),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.lookQrcodeDialog=!1}}},[t._v("关 闭")])],1)],1)],1)])},r=[],s=o(61120),i=o.n(s),l=o(83874),n=o.n(l),c=o(42325),d={data(){return{imgURLs:"",lookQrcodeDialog:!1,codeUrl:"bindCode=bobbobsbtvso"}},mounted(){this.xianDuan()},methods:{downloadIamge(){if(""==this.imgURLs)return this.$message.warning("请先截图在下载");var t=(new Date).getTime()+".png";(0,c.iw)(this.imgURLs,t)},capture(){setTimeout((()=>{let t=document.querySelector("#poster");i()(t,{scale:2,logging:!1,useCORS:!0,tainttest:!0}).then((t=>{this.imgURLs=t.toDataURL()}))}),100)},qriously(){this.lookQrcodeDialog=!0},qrcode(){var t="优化qrcode中文乱码";document.getElementById("qrcode").innerHTML="",new(n())(this.$refs.qrCodeUrl,{text:t,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff",errorCorrectionLevel:"L",type:"image/png",quality:.3,margin:5,color:{dark:"#666666",light:"#fff"}}),this.capture()},xianDuan(){var t=document.getElementById("myCanvas"),e=t.getContext("2d");console.log("ctx",e),e.beginPath(),e.arc(75,75,50,0,2*Math.PI,!0),e.moveTo(110,75),e.arc(75,75,35,0,Math.PI,!1),e.moveTo(65,65),e.arc(60,65,5,0,2*Math.PI,!0),e.moveTo(95,65),e.arc(90,65,5,0,2*Math.PI,!0),e.stroke(),e.font="30px Arial",e.fillText("Hello canvas",10,150),e.strokeText("Hello canvas",10,180),e.stroke()}}},u=d,g=o(43736),v=(0,g.Z)(u,a,r,!1,null,"2baf5bd8",null),h=v.exports}}]);