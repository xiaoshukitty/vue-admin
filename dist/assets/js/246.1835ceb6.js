"use strict";(self.webpackChunkvue_test=self.webpackChunkvue_test||[]).push([[246],{7246:function(r,e,s){s.r(e),s.d(e,{default:function(){return o}});var t=s(3799),a={data(){return{userForm:{username:JSON.parse(localStorage.getItem("USERINFO")).username,confirmPassword:"",password:""},rules:{password:[{validator:(r,e,s)=>{""===e?s(new Error("请输入密码")):(""!==this.userForm.confirmPassword&&this.$refs.userForm.validateField("confirmPassword"),s())},trigger:"blur"}],confirmPassword:[{validator:(r,e,s)=>{""===e?s(new Error("请再次输入密码")):e!==this.userForm.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}]}}},methods:{edit(r){this.$refs[r].validate((r=>{if(!r)return!1;this.updatePassword()}))},async updatePassword(){let r={username:this.userForm.username,password:this.userForm.password};200==(await(0,t.gQ)(r)).code&&(this.$notify({title:this.$t("headerList.PasswordChangedSuccessfully"),type:"success"}),this.reset())},reset(){this.userForm={username:JSON.parse(localStorage.getItem("USERINFO")).username,confirmPassword:"",password:""}}}},o=(0,s(43736).Z)(a,(function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("div",{staticClass:"setting"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[r._v(r._s(r.$t("headerList.UpdatePassword")))])]),s("el-form",{ref:"userForm",staticStyle:{width:"480px"},attrs:{model:r.userForm,rules:r.rules,"label-width":"180px"}},[s("el-form-item",{attrs:{label:r.$t("loginI18n.UserName")+":",prop:"username"}},[s("el-input",{attrs:{disabled:""},model:{value:r.userForm.username,callback:function(e){r.$set(r.userForm,"username",e)},expression:"userForm.username"}})],1),s("el-form-item",{attrs:{label:r.$t("loginI18n.PassWord")+":",prop:"password"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:r.userForm.password,callback:function(e){r.$set(r.userForm,"password",e)},expression:"userForm.password"}})],1),s("el-form-item",{attrs:{label:r.$t("signInI18n.ConfirmPassword")+":",prop:"confirmPassword"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:r.userForm.confirmPassword,callback:function(e){r.$set(r.userForm,"confirmPassword",e)},expression:"userForm.confirmPassword"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){return r.edit("userForm")}}},[r._v(r._s(r.$t("headerList.Update")))])],1)],1)],1)],1)}),[],!1,null,"4ec583f8",null).exports}}]);