"use strict";(self.webpackChunkvue_test=self.webpackChunkvue_test||[]).push([[39],{23039:function(t,e,o){o.r(e),o.d(e,{default:function(){return d}});var a=o(61120),r=o.n(a),s=o(83874),i=o.n(s),l=o(42325),n={data(){return{imgURLs:"",lookQrcodeDialog:!1,codeUrl:"bindCode=bobbobsbtvso"}},mounted(){this.xianDuan()},methods:{downloadIamge(){if(""==this.imgURLs)return this.$message.warning("请先截图在下载");var t=(new Date).getTime()+".png";(0,l.iw)(this.imgURLs,t)},capture(){setTimeout((()=>{let t=document.querySelector("#poster");r()(t,{scale:2,logging:!1,useCORS:!0,tainttest:!0}).then((t=>{this.imgURLs=t.toDataURL()}))}),100)},qriously(){this.lookQrcodeDialog=!0},qrcode(){document.getElementById("qrcode").innerHTML="",new(i())(this.$refs.qrCodeUrl,{text:"优化qrcode中文乱码",width:200,height:200,colorDark:"#000000",colorLight:"#ffffff",errorCorrectionLevel:"L",type:"image/png",quality:.3,margin:5,color:{dark:"#666666",light:"#fff"}}),this.capture()},xianDuan(){var t=document.getElementById("myCanvas").getContext("2d");t.beginPath(),t.arc(75,75,50,0,2*Math.PI,!0),t.moveTo(110,75),t.arc(75,75,35,0,Math.PI,!1),t.moveTo(65,65),t.arc(60,65,5,0,2*Math.PI,!0),t.moveTo(95,65),t.arc(90,65,5,0,2*Math.PI,!0),t.stroke(),t.font="30px Arial",t.fillText("Hello canvas",10,150),t.strokeText("Hello canvas",10,180),t.stroke()}}},c=n,d=(0,o(43736).Z)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"canvas"},[o("h2",{on:{click:t.qriously}},[t._v(" vue-qriously生成二维码 ")]),o("canvas",{attrs:{id:"myCanvas",width:"500",height:"300"}}),o("div",{staticClass:"poster_box"},[o("div",{staticClass:"poster",attrs:{id:"poster"}},[o("div",{ref:"qrCodeUrl",staticClass:"qrcode",attrs:{id:"qrcode"}})]),o("el-button",{attrs:{type:"primary"},on:{click:t.qrcode}},[t._v("截图")]),o("el-button",{attrs:{type:"primary"},on:{click:t.downloadIamge}},[t._v("下载")])],1),o("div",{staticClass:"look_qrcode"},[o("el-dialog",{attrs:{title:"扫码支付码",visible:t.lookQrcodeDialog,width:"30%","show-close":!1},on:{"update:visible":function(e){t.lookQrcodeDialog=e}}},[o("qriously",{attrs:{value:t.codeUrl,size:240}}),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.lookQrcodeDialog=!1}}},[t._v("关 闭")])],1)],1)],1)])}),[],!1,null,"2baf5bd8",null).exports}}]);